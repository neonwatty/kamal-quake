service: quakejs
image: neonwatty/quakejs-demo

servers:
  web:
    hosts:
      - YOUR_VPS_IP  # Replace with your VPS IP address
    options:
      publish:
        - "27961:27961"

volumes:
  - "/root/.local/share/kamal-proxy/ssl:/etc/ssl/kamal:ro"

proxy:
  ssl: true
  host: your-domain.xyz  # Replace with your domain
  app_port: 80
  healthcheck:
    interval: 3
    path: /
    timeout: 10

env:
  SERVER: your-domain.xyz  # Replace with your domain
  HTTP_PORT: 80
  GAME_PORT: 27961

registry:
  server: ghcr.io
  username: neonwatty
  password:
    - GITHUB_REGISTRY_TOKEN

builder:
  arch: amd64
  context: ../quakejs-https-docker
  dockerfile: Dockerfile

ssh:
  user: ubuntu
  keys:
    - ~/.ssh/your-key.pem  # Replace with your SSH key path
