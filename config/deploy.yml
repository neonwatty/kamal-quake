service: quakejs
image: neonwatty/quakejs-demo
servers:
  web:
    hosts:
      - 54.69.135.204
    options:
      publish:
        - "27961:27961"
        - "27960:27960"
        - "9000:9000"
      expose:
        - "80"

proxy:
  ssl: true
  host: ytgiphy.xyz
  app_port: 80
  healthcheck:
    interval: 3
    path: /
    timeout: 10

env:
  SERVER: ytgiphy.xyz # 54.69.135.204
  HTTP_PORT: 80

registry:
  server: ghcr.io
  username: neonwatty
  password:
    - GITHUB_REGISTRY_TOKEN

# Configure builder setup.
builder:
  arch: amd64

# Use a different ssh user than root
ssh:
  user: ubuntu
